<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Echostation</title>
    <base href="./" />
    <link rel="icon" type="image/png" href="assets/logo.svg" />
    <script src="https://cdn.tailwindcss.com"></script>
  </head>

  <body class="font-sans">
    <!--
    <header
      class="bg-white shadow p-4 flex items-center justify-center space-x-3"
    >
      <img src="assets/logo.svg" alt="Logo" class="h-8 w-auto" />
      <h1 class="text-xl font-semibold text-gray-800" style="color: #e97101">
        SMACON's Echostation
      </h1>
    </header>
    -->

    <!-- Page description -->
    <p
      class="max-w-4xl mx-auto mt-4 text-center text-gray-700 px-4 font-semibold"
    >
      Explore the unique calls of different bat species
    </p>

    <main class="p-6 grid grid-cols-1 sm:grid-cols-2 gap-6 max-w-4xl mx-auto">

      <!--bat 1-->
      <div
        class="relative rounded-2xl overflow-hidden shadow-lg group w-full max-w-md"
      >
        <!-- Bat image -->
        <img
          src="assets/bat_images/Short-tailed Roundleaf Bat.png"
          alt="Hipposideros curtus"
          class="w-full h-48 object-cover group-hover:scale-125 transition-transform"
        />

        <div class="absolute inset-0 bg-black/30"></div>

        <!-- Info icon top-right -->
        <button
          onclick="openModal('bat1', event)"
          class="absolute top-3 right-3 p-1 rounded-full hover:bg-white/60 transition-colors"
        >
          <img
            src="assets/info_icon.svg"
            alt="info"
            class="h-7 w-7 drop-shadow-md"
          />
        </button>

        <!-- Card title -->
        <div class="absolute bottom-0 w-full flex items-end p-4">
          <p class="text-white font-semibold">Short-tailed Roundleaf Bat</p>
          <!-- Play button -->
          <button
            id="icon-bat1"
            onclick="toggleControls('bat1', event)"
            class="ml-auto"
          >
            <img
              src="assets/play_circle.svg"
              alt="play"
              class="w-7 h-7 drop-shadow-xl"
            />
          </button>
        </div>
      </div>
      
      <!--bat 2-->
      <div
        class="relative rounded-2xl overflow-hidden shadow-lg group w-full max-w-md"
      >
        <!-- Bat image -->
        <img
          src="assets/bat_images/Spurrell_s Woolly Bat.png"
          alt="Hipposideros curtus"
          class="w-full h-48 object-cover group-hover:scale-125 transition-transform"
        />

        <div class="absolute inset-0 bg-black/30"></div>

        <!-- Info icon top-right -->
        <button
          onclick="openModal('bat2', event)"
          class="absolute top-3 right-3 p-1 rounded-full hover:bg-white/60 transition-colors"
        >
          <img
            src="assets/info_icon.svg"
            alt="info"
            class="h-7 w-7 drop-shadow-md"
          />
        </button>

        <!-- Card title -->
        <div class="absolute bottom-0 w-full flex items-end p-4">
          <p class="text-white font-semibold">Spurrell's Woolly Bat</p>
          <!-- Play button -->
          <button
            id="icon-bat2"
            onclick="toggleControls('bat2', event)"
            class="ml-auto"
          >
            <img
              src="assets/play_circle.svg"
              alt="play"
              class="w-7 h-7 drop-shadow-xl"
            />
          </button>
        </div>
      </div>
      
      <!--bat 3-->
      <div
        class="relative rounded-2xl overflow-hidden shadow-lg group w-full max-w-md"
      >
        <!-- Bat image -->
        <img
          src="assets/bat_images/Noack’s Roundleaf Bat.png"
          alt="Hipposideros curtus"
          class="w-full h-48 object-cover group-hover:scale-125 transition-transform"
        />

        <div class="absolute inset-0 bg-black/30"></div>

        <!-- Info icon top-right -->
        <button
          onclick="openModal('bat3', event)"
          class="absolute top-3 right-3 p-1 rounded-full hover:bg-white/60 transition-colors"
        >
          <img
            src="assets/info_icon.svg"
            alt="info"
            class="h-7 w-7 drop-shadow-md"
          />
        </button>

        <!-- Card title -->
        <div class="absolute bottom-0 w-full flex items-end p-4">
          <p class="text-white font-semibold">Noack’s Roundleaf Bat</p>
          <!-- Play button -->
          <button
            id="icon-bat3"
            onclick="toggleControls('bat3', event)"
            class="ml-auto"
          >
            <img
              src="assets/play_circle.svg"
              alt="play"
              class="w-7 h-7 drop-shadow-xl"
            />
          </button>
        </div>
      </div>
      
      <!--bat 4-->
      <div
        class="relative rounded-2xl overflow-hidden shadow-lg group w-full max-w-md"
      >
        <!-- Bat image -->
        <img
          src="assets/bat_images/Halcyon horseshoe bat.png"
          alt="Hipposideros curtus"
          class="w-full h-48 object-cover group-hover:scale-125 transition-transform"
        />

        <div class="absolute inset-0 bg-black/30"></div>

        <!-- Info icon top-right -->
        <button
          onclick="openModal('bat4', event)"
          class="absolute top-3 right-3 p-1 rounded-full hover:bg-white/60 transition-colors"
        >
          <img
            src="assets/info_icon.svg"
            alt="info"
            class="h-7 w-7 drop-shadow-md"
          />
        </button>

        <!-- Card title -->
        <div class="absolute bottom-0 w-full flex items-end p-4">
          <p class="text-white font-semibold">Halcyon horseshoe bat</p>
          <!-- Play button -->
          <button
            id="icon-bat4"
            onclick="toggleControls('bat4', event)"
            class="ml-auto"
          >
            <img
              src="assets/play_circle.svg"
              alt="play"
              class="w-7 h-7 drop-shadow-xl"
            />
          </button>
        </div>
      </div>
      
      <!--bat 5-->
      <div
        class="relative rounded-2xl overflow-hidden shadow-lg group w-full max-w-md"
      >
        <!-- Bat image -->
        <img
          src="assets/bat_images/Cameroon Horseshoe Bat.png"
          alt="Hipposideros curtus"
          class="w-full h-48 object-cover group-hover:scale-125 transition-transform"
        />

        <div class="absolute inset-0 bg-black/30"></div>

        <!-- Info icon top-right -->
        <button
          onclick="openModal('bat5', event)"
          class="absolute top-3 right-3 p-1 rounded-full hover:bg-white/60 transition-colors"
        >
          <img
            src="assets/info_icon.svg"
            alt="info"
            class="h-7 w-7 drop-shadow-md"
          />
        </button>

        <!-- Card title -->
        <div class="absolute bottom-0 w-full flex items-end p-4">
          <p class="text-white font-semibold">Cameroon Horseshoe Bat</p>
          <!-- Play button -->
          <button
            id="icon-bat5"
            onclick="toggleControls('bat5', event)"
            class="ml-auto"
          >
            <img
              src="assets/play_circle.svg"
              alt="play"
              class="w-7 h-7 drop-shadow-xl"
            />
          </button>
        </div>
      </div>

      <!--bat 6-->
      <div
        class="relative rounded-2xl overflow-hidden shadow-lg group w-full max-w-md"
      >
        <!-- Bat image -->
        <img
          src="assets/bat_images/Lasionycteris noctivagans.png"
          alt="Lasionycteris noctivagans"
          class="w-full h-48 object-cover group-hover:scale-125 transition-transform"
        />

        <div class="absolute inset-0 bg-black/30"></div>

        <!-- Info icon top-right -->
        <button
          onclick="openModal('bat6', event)"
          class="absolute top-3 right-3 p-1 rounded-full hover:bg-white/60 transition-colors"
        >
          <img
            src="assets/info_icon.svg"
            alt="info"
            class="h-7 w-7 drop-shadow-md"
          />
        </button>

        <!-- Card title -->
        <div class="absolute bottom-0 w-full flex items-end p-4">
          <p class="text-white font-semibold">Lasionycteris noctivagans</p>
          <!-- Play button -->
          <button
            id="icon-bat6"
            onclick="toggleControls('bat6', event)"
            class="ml-auto"
          >
            <img
              src="assets/play_circle.svg"
              alt="play"
              class="w-7 h-7 drop-shadow-xl"
            />
          </button>
        </div>
      </div>

      <!--bat 7-->
      <div
        class="relative rounded-2xl overflow-hidden shadow-lg group w-full max-w-md"
      >
        <!-- Bat image -->
        <img
          src="assets/bat_images/Long-legged Myotis.png"
          alt="Long-legged Myotis"
          class="w-full h-48 object-cover group-hover:scale-125 transition-transform"
        />

        <div class="absolute inset-0 bg-black/30"></div>

        <!-- Info icon top-right -->
        <button
          onclick="openModal('bat7', event)"
          class="absolute top-3 right-3 p-1 rounded-full hover:bg-white/60 transition-colors"
        >
          <img
            src="assets/info_icon.svg"
            alt="info"
            class="h-7 w-7 drop-shadow-md"
          />
        </button>

        <!-- Card title -->
        <div class="absolute bottom-0 w-full flex items-end p-4">
          <p class="text-white font-semibold">Long-legged Myotis</p>
          <!-- Play button -->
          <button
            id="icon-bat7"
            onclick="toggleControls('bat7', event)"
            class="ml-auto"
          >
            <img
              src="assets/play_circle.svg"
              alt="play"
              class="w-7 h-7 drop-shadow-xl"
            />
          </button>
        </div>
      </div>

      <!--bat 8-->
      <div
        class="relative rounded-2xl overflow-hidden shadow-lg group w-full max-w-md"
      >
        <!-- Bat image -->
        <img
          src="assets/bat_images/Nyctalus noctula.png"
          alt="Nyctalus noctula"
          class="w-full h-48 object-cover group-hover:scale-125 transition-transform"
        />

        <div class="absolute inset-0 bg-black/30"></div>

        <!-- Info icon top-right -->
        <button
          onclick="openModal('bat8', event)"
          class="absolute top-3 right-3 p-1 rounded-full hover:bg-white/60 transition-colors"
        >
          <img
            src="assets/info_icon.svg"
            alt="info"
            class="h-7 w-7 drop-shadow-md"
          />
        </button>

        <!-- Card title -->
        <div class="absolute bottom-0 w-full flex items-end p-4">
          <p class="text-white font-semibold">Nyctalus noctula</p>
          <!-- Play button -->
          <button
            id="icon-bat8"
            onclick="toggleControls('bat8', event)"
            class="ml-auto"
          >
            <img
              src="assets/play_circle.svg"
              alt="play"
              class="w-7 h-7 drop-shadow-xl"
            />
          </button>
        </div>
      </div>

      <!--bat 9-->
      <div
        class="relative rounded-2xl overflow-hidden shadow-lg group w-full max-w-md"
      >
        <!-- Bat image -->
        <img
          src="assets/bat_images/Rhinolophus.png"
          alt="Rhinolophus"
          class="w-full h-48 object-cover group-hover:scale-125 transition-transform"
        />

        <div class="absolute inset-0 bg-black/30"></div>

        <!-- Info icon top-right -->
        <button
          onclick="openModal('bat9', event)"
          class="absolute top-3 right-3 p-1 rounded-full hover:bg-white/60 transition-colors"
        >
          <img
            src="assets/info_icon.svg"
            alt="info"
            class="h-7 w-7 drop-shadow-md"
          />
        </button>

        <!-- Card title -->
        <div class="absolute bottom-0 w-full flex items-end p-4">
          <p class="text-white font-semibold">Rhinolophus</p>
          <!-- Play button -->
          <button
            id="icon-bat9"
            onclick="toggleControls('bat9', event)"
            class="ml-auto"
          >
            <img
              src="assets/play_circle.svg"
              alt="play"
              class="w-7 h-7 drop-shadow-xl"
            />
          </button>
        </div>
      </div>

      <!--bat 10-->
      <div
        class="relative rounded-2xl overflow-hidden shadow-lg group w-full max-w-md"
      >
        <!-- Bat image -->
        <img
          src="assets/bat_images/Pipistrellus pipistrella.png"
          alt="Lasionycteris noctivagans"
          class="w-full h-48 object-cover group-hover:scale-125 transition-transform"
        />

        <div class="absolute inset-0 bg-black/30"></div>

        <!-- Info icon top-right -->
        <button
          onclick="openModal('bat10', event)"
          class="absolute top-3 right-3 p-1 rounded-full hover:bg-white/60 transition-colors"
        >
          <img
            src="assets/info_icon.svg"
            alt="info"
            class="h-7 w-7 drop-shadow-md"
          />
        </button>

        <!-- Card title -->
        <div class="absolute bottom-0 w-full flex items-end p-4">
          <p class="text-white font-semibold">Pipistrellus pipistrella</p>
          <!-- Play button -->
          <button
            id="icon-bat10"
            onclick="toggleControls('bat10', event)"
            class="ml-auto"
          >
            <img
              src="assets/play_circle.svg"
              alt="play"
              class="w-7 h-7 drop-shadow-xl"
            />
          </button>
        </div>
      </div>

      <!--bat 11-->
      <div
        class="relative rounded-2xl overflow-hidden shadow-lg group w-full max-w-md"
      >
        <!-- Bat image -->
        <img
          src="assets/bat_images/Eidolon helvum.png"
          alt="Eidolon helvum"
          class="w-full h-48 object-cover group-hover:scale-125 transition-transform"
        />

        <div class="absolute inset-0 bg-black/30"></div>

        <!-- Info icon top-right -->
        <button
          onclick="openModal('bat11', event)"
          class="absolute top-3 right-3 p-1 rounded-full hover:bg-white/60 transition-colors"
        >
          <img
            src="assets/info_icon.svg"
            alt="info"
            class="h-7 w-7 drop-shadow-md"
          />
        </button>

        <!-- Card title -->
        <div class="absolute bottom-0 w-full flex items-end p-4">
          <p class="text-white font-semibold">Eidolon helvum</p>
          <!-- Play button -->
          <button
            id="icon-bat11"
            onclick="toggleControls('bat11', event)"
            class="ml-auto"
          >
            <img
              src="assets/play_circle.svg"
              alt="play"
              class="w-7 h-7 drop-shadow-xl"
            />
          </button>
        </div>
      </div>

      <!--bat 12-->
      <div
        class="relative rounded-2xl overflow-hidden shadow-lg group w-full max-w-md"
      >
        <!-- Bat image -->
        <img
          src="assets/bat_images/Doryrhina cyclops.png"
          alt="Doryrhina cyclops"
          class="w-full h-48 object-cover group-hover:scale-125 transition-transform"
        />

        <div class="absolute inset-0 bg-black/30"></div>

        <!-- Info icon top-right -->
        <button
          onclick="openModal('bat12', event)"
          class="absolute top-3 right-3 p-1 rounded-full hover:bg-white/60 transition-colors"
        >
          <img
            src="assets/info_icon.svg"
            alt="info"
            class="h-7 w-7 drop-shadow-md"
          />
        </button>

        <!-- Card title -->
        <div class="absolute bottom-0 w-full flex items-end p-4">
          <p class="text-white font-semibold">Doryrhina cyclops</p>
          <!-- Play button -->
          <button
            id="icon-bat12"
            onclick="toggleControls('bat12', event)"
            class="ml-auto"
          >
            <img
              src="assets/play_circle.svg"
              alt="play"
              class="w-7 h-7 drop-shadow-xl"
            />
          </button>
        </div>
      </div>

      <!--bat 13-->
      <div
        class="relative rounded-2xl overflow-hidden shadow-lg group w-full max-w-md"
      >
        <!-- Bat image -->
        <img
          src="assets/bat_images/Rhinolophus landeri.jpg"
          alt="Rhinolophus landeri"
          class="w-full h-48 object-cover group-hover:scale-125 transition-transform"
        />

        <div class="absolute inset-0 bg-black/30"></div>

        <!-- Info icon top-right -->
        <button
          onclick="openModal('bat13', event)"
          class="absolute top-3 right-3 p-1 rounded-full hover:bg-white/60 transition-colors"
        >
          <img
            src="assets/info_icon.svg"
            alt="info"
            class="h-7 w-7 drop-shadow-md"
          />
        </button>

        <!-- Card title -->
        <div class="absolute bottom-0 w-full flex items-end p-4">
          <p class="text-white font-semibold">Rhinolophus landeri</p>
          <!-- Play button -->
          <button
            id="icon-bat13"
            onclick="toggleControls('bat13', event)"
            class="ml-auto"
          >
            <img
              src="assets/play_circle.svg"
              alt="play"
              class="w-7 h-7 drop-shadow-xl"
            />
          </button>
        </div>
      </div>

      <!--bat 14-->
      <div
        class="relative rounded-2xl overflow-hidden shadow-lg group w-full max-w-md"
      >
        <!-- Bat image -->
        <img
          src="assets/bat_images/Nycteris_thebaica.jpg"
          alt="Nycteris sp"
          class="w-full h-48 object-cover group-hover:scale-125 transition-transform"
        />

        <div class="absolute inset-0 bg-black/30"></div>

        <!-- Info icon top-right -->
        <button
          onclick="openModal('bat14', event)"
          class="absolute top-3 right-3 p-1 rounded-full hover:bg-white/60 transition-colors"
        >
          <img
            src="assets/info_icon.svg"
            alt="info"
            class="h-7 w-7 drop-shadow-md"
          />
        </button>

        <!-- Card title -->
        <div class="absolute bottom-0 w-full flex items-end p-4">
          <p class="text-white font-semibold">Nycteris sp</p>
          <!-- Play button -->
          <button
            id="icon-bat14"
            onclick="toggleControls('bat14', event)"
            class="ml-auto"
          >
            <img
              src="assets/play_circle.svg"
              alt="play"
              class="w-7 h-7 drop-shadow-xl"
            />
          </button>
        </div>
      </div>
    </main>

    <!-- <footer class="text-center font-semibold">&copy SMACON 2025</footer> -->

    <!-- Modal structure -->
    <div
      id="infoModal"
      class="fixed inset-0 bg-black/60 hidden items-center justify-center z-50"
    >
      <div class="bg-white rounded-xl p-6 max-w-md mx-auto relative">
        <button
          onclick="closeModal()"
          class="absolute top-3 right-3 text-gray-500 text-2xl"
        >
          &times;
        </button>
        <h2 id="modalTitle" class="text-xl font-semibold mb-2"></h2>
        <p id="modalText" class="text-gray-700"></p>
        <p id="modalText2" class="text-gray-500 pt-2 text-sm"></p>
      </div>
    </div>

    <script>
      let currentAudio = null;
      let currentId = null;

      function toggleControls(id, e) {
        if (e) e.stopPropagation();
        const audioSrc = `assets/mp3/${id}.mp3`;
        console.log("Attempting to play:", audioSrc);
        const icon = document.getElementById("icon-" + id);

        if (currentId === id && currentAudio) {
          currentAudio.pause();
          currentAudio.currentTime = 0;
          icon.innerHTML =
            '<img src="assets/play_circle.svg" alt="play" class="h-7 w-7" />';
          currentAudio = null;
          currentId = null;
          return;
        }

        if (currentAudio) {
          const prevIcon = document.getElementById("icon-" + currentId);
          prevIcon.innerHTML =
            '<img src="assets/play_circle.svg" alt="play" class="h-7 w-7" />';
          currentAudio.pause();
          currentAudio.currentTime = 0;
        }

        currentAudio = new Audio(audioSrc);
        currentId = id;
        icon.innerHTML =
          '<img src="assets/pause_circle.svg" alt="pause" class="h-7 w-7" />';
        currentAudio.play();

        currentAudio.onended = () => {
          icon.innerHTML =
            '<img src="assets/play_circle.svg" alt="play" class="h-7 w-7" />';
          currentAudio = null;
          currentId = null;
        };
      }

      // Modal content
      const batInfo = {
        bat1: {
          title: "Short-tailed Roundleaf Bat",
          text: "Small to medium-sized bat with a distinctive leaf-shaped nose, found in tropical Africa.",
          text2: "Call type: Echolocation",
        },
        bat2: {
          title: "Spurrell_s Woolly Bat",
          text: "",
          text2: "Call type: Echolocation",
        },
        bat3: {
          title: "Noack’s Roundleaf Bat",
          text: "",
          text2: "Call type: Echolocation",
        },
        bat4: {
          title: "Halcyon horseshoe bat",
          text: "",
          text2: "Call type: Echolocation",
        },
        bat5: {
          title: "Cameroon Horseshoe Bat",
          text: "",
          text2: "Call type: Echolocation",
        },
        bat6: {
          title: "Lasionycteris noctivagans",
          text: "Silver-haired bat with low-frequency echolocation calls.",
          text2: "Call type: Echolocation",
        },
        bat7: {
          title: "Long-legged Myotis",
          text: "Rapid high-frequency chirps while foraging.",
          text2: "Call type: Echolocation",
        },
        bat8: {
          title: "Nyctalus noctula",
          text: "Known for loud, low-pitched calls.",
          text2: "Call type: Echolocation",
        },
        bat9: {
          title: "Rhinolophus",
          text: "Uses constant frequency calls for precise hunting.",
          text2: "Call type: Echolocation",
        },
        bat10: {
          title: "Pipistrellus pipistrella",
          text: "Tiny bat with fast, high-pitched calls.",
          text2: "Call type: Echolocation",
        },
        bat11: {
          title: "Eidolon helvum",
          text: "Large fruit bat with a distinctive straw-colored fur, found in tropical Africa.",
          text2: "Call type: Social",
        },
        bat12: {
          title: "Doryrhina cyclops",
          text: "Medium-sized bat with a distinctive round leaf-shaped nose, found in tropical Africa.",
          text2: "Call type: Distress",
        },
        bat13: {
          title: "Rhinolophus landeri",
          text: "Medium-sized horseshoe bat with a distinctive horseshoe-shaped noseleaf, found in Africa.",
          text2: "Call type: Echolocation",
        },
        bat14: {
          title: "Nycteris sp",
          text: "Medium-sized bat with a distinctive slit-like facial groove, found in Africa and Asia.",
          text2: "Call type: Echolocation",
        },
      };

      function openModal(id, e) {
        if (e) e.stopPropagation();
        const info = batInfo[id];
        if (!info) return;
        document.getElementById("modalTitle").textContent = info.title;
        document.getElementById("modalText").textContent = info.text;
        document.getElementById("modalText2").textContent = info.text2;
        const modal = document.getElementById("infoModal");
        modal.classList.remove("hidden");
        modal.classList.add("flex");
      }

      function closeModal() {
        const modal = document.getElementById("infoModal");
        modal.classList.add("hidden");
        modal.classList.remove("flex");
      }
    </script>
  </body>
</html>
